import{s as T,f as B,h as R,e as z,o as G,n as H}from"../chunks/scheduler.19461008.js";import{S as q,i as J,s as $,g as y,e as O,c as F,h as w,j as I,f as b,k as A,a as E,x as v,d as X,t as W,b as K,y as M,m as L,z as U,n as N,l as P,o as Y,A as Z,p as ee}from"../chunks/index.b39ab371.js";import{s as te}from"../chunks/spring.5c907b37.js";import{l as se}from"../chunks/index.e3f35709.js";function ae(p){const s=p-1;return s*s*s+1}function S(p,{delay:s=0,duration:l=400,easing:r=ae,axis:n="y"}={}){const a=getComputedStyle(p),h=+a.opacity,d=n==="y"?"height":"width",c=parseFloat(a[d]),t=n==="y"?["top","bottom"]:["left","right"],i=t.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),e=parseFloat(a[`padding${i[0]}`]),o=parseFloat(a[`padding${i[1]}`]),f=parseFloat(a[`margin${i[0]}`]),m=parseFloat(a[`margin${i[1]}`]),u=parseFloat(a[`border${i[0]}Width`]),g=parseFloat(a[`border${i[1]}Width`]);return{delay:s,duration:l,easing:r,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*h};${d}: ${_*c}px;padding-${t[0]}: ${_*e}px;padding-${t[1]}: ${_*o}px;margin-${t[0]}: ${_*f}px;margin-${t[1]}: ${_*m}px;border-${t[0]}-width: ${_*u}px;border-${t[1]}-width: ${_*g}px;`}}function j(p){let s,l,r,n,a="Ultrasonic Sensor",h,d,c,t,i,e,o,f,m;return{c(){s=y("div"),l=y("div"),r=y("div"),n=y("h2"),n.textContent=a,h=$(),d=y("span"),c=L(p[1]),t=L("cm"),i=$(),e=y("div"),this.h()},l(u){s=w(u,"DIV",{class:!0});var g=I(s);l=w(g,"DIV",{class:!0});var _=I(l);r=w(_,"DIV",{class:!0});var D=I(r);n=w(D,"H2",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-hkgn8g"&&(n.textContent=a),h=F(D),d=w(D,"SPAN",{class:!0});var x=I(d);c=N(x,p[1]),t=N(x,"cm"),x.forEach(b),D.forEach(b),i=F(_),e=w(_,"DIV",{id:!0,class:!0,style:!0}),I(e).forEach(b),_.forEach(b),g.forEach(b),this.h()},h(){A(n,"class","text-xl font-bold"),A(d,"class","font-bold"),A(r,"class","flex items-center justify-between"),A(e,"id","output"),A(e,"class",o="h-5 w-full rounded-lg "+p[2]+" svelte-1mn3cys"),P(e,"width",p[5]+"%"),P(e,"max-width","100%"),A(l,"class","p-4 rounded-xl w-full"),A(s,"class","sensor-container text-white max-w-screen mx-auto px-4 sm:px-6 md:px-8 svelte-1mn3cys")},m(u,g){E(u,s,g),v(s,l),v(l,r),v(r,n),v(r,h),v(r,d),v(d,c),v(d,t),v(l,i),v(l,e),m=!0},p(u,g){(!m||g&2)&&Y(c,u[1]),(!m||g&4&&o!==(o="h-5 w-full rounded-lg "+u[2]+" svelte-1mn3cys"))&&A(e,"class",o),(!m||g&32)&&P(e,"width",u[5]+"%")},i(u){m||(u&&R(()=>{m&&(f||(f=M(s,S,{},!0)),f.run(1))}),m=!0)},o(u){u&&(f||(f=M(s,S,{},!1)),f.run(0)),m=!1},d(u){u&&b(s),u&&f&&f.end()}}}function Q(p){let s,l,r,n,a,h='<div class="sm:flex sm:items-start"><div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"><h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">1조 정보 수행</h3> <div class="mt-2"><p class="text-sm text-gray-500">소리 API 허용 후 시작</p></div></div></div>',d,c,t,i="시작",e,o;return{c(){s=y("div"),l=y("div"),r=$(),n=y("div"),a=y("div"),a.innerHTML=h,d=$(),c=y("div"),t=y("button"),t.textContent=i,this.h()},l(f){s=w(f,"DIV",{class:!0,"aria-labelledby":!0,role:!0,"aria-modal":!0});var m=I(s);l=w(m,"DIV",{class:!0,"aria-hidden":!0}),I(l).forEach(b),r=F(m),n=w(m,"DIV",{class:!0});var u=I(n);a=w(u,"DIV",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-1tyi84n"&&(a.innerHTML=h),d=F(u),c=w(u,"DIV",{class:!0});var g=I(c);t=w(g,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1y3m23v"&&(t.textContent=i),g.forEach(b),u.forEach(b),m.forEach(b),this.h()},h(){A(l,"class","bg-gray-500"),A(l,"aria-hidden","true"),A(a,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),A(t,"type","button"),A(t,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"),A(c,"class","px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"),A(n,"class","bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:align-middle sm:max-w-lg sm:w-full"),A(s,"class","fixed z-10 inset-0 overflow-y-auto flex items-center justify-center"),A(s,"aria-labelledby","modal-title"),A(s,"role","dialog"),A(s,"aria-modal","true")},m(f,m){E(f,s,m),v(s,l),v(s,r),v(s,n),v(n,a),v(n,d),v(n,c),v(c,t),e||(o=Z(t,"click",p[9]),e=!0)},p:H,d(f){f&&b(s),e=!1,o()}}}function le(p){let s,l,r,n,a,h,d,c,t=p[1]&&j(p),i=p[4]&&Q(p);return{c(){t&&t.c(),s=$(),l=y("div"),r=y("img"),h=$(),i&&i.c(),d=O(),this.h()},l(e){t&&t.l(e),s=F(e),l=w(e,"DIV",{class:!0});var o=I(l);r=w(o,"IMG",{key:!0,src:!0,alt:!0,class:!0}),o.forEach(b),h=F(e),i&&i.l(e),d=O(),this.h()},h(){A(r,"key",p[3]),B(r.src,n=p[0])||A(r,"src",n),A(r,"alt",""),A(r,"class","svelte-1mn3cys"),A(l,"class","image-container svelte-1mn3cys")},m(e,o){t&&t.m(e,o),E(e,s,o),E(e,l,o),v(l,r),E(e,h,o),i&&i.m(e,o),E(e,d,o),c=!0},p(e,[o]){e[1]?t?(t.p(e,o),o&2&&X(t,1)):(t=j(e),t.c(),X(t,1),t.m(s.parentNode,s)):t&&(ee(),W(t,1,1,()=>{t=null}),K()),(!c||o&8)&&A(r,"key",e[3]),(!c||o&1&&!B(r.src,n=e[0]))&&A(r,"src",n),e[4]?i?i.p(e,o):(i=Q(e),i.c(),i.m(d.parentNode,d)):i&&(i.d(1),i=null)},i(e){c||(X(t),e&&R(()=>{c&&(a||(a=M(l,S,{},!0)),a.run(1))}),c=!0)},o(e){W(t),e&&(a||(a=M(l,S,{},!1)),a.run(0)),c=!1},d(e){e&&(b(s),b(l),b(h),b(d)),t&&t.d(e),e&&a&&a.end(),i&&i.d(e)}}}function ie(p,s,l){let r,n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAC+CAYAAACLdLWdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAo0lEQVR4nO3BMQEAAADCoPVPbQsvoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAngY07AABPEnEPQAAAABJRU5ErkJggg==",a="",h="",d=0,c=["bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-blue-500","bg-indigo-500","bg-purple-500","bg-violet-800"],t=te(0);z(p,t,x=>l(5,r=x));let i=0,e=0,o,f=!1,m=["/piano/FX_piano01.mp3","/piano/FX_piano03.mp3","/piano/FX_piano05.mp3","/piano/FX_piano06.mp3","/piano/FX_piano08.mp3","/piano/FX_piano10.mp3","/piano/FX_piano12.mp3","/piano/FX_piano13.mp3"],u=!0;function g(){l(4,u=!1)}function _(){typeof window<"u"&&!f&&(o=new Audio,o.play().catch(x=>{console.error("Audio play failed:",x)}),f=!0)}return G(()=>{const x=se();x.on("ultrasonicData",V=>{l(1,a=V.ultrasonic);let k=a>50?50:a;const C=Math.floor(k/(50/c.length));l(2,h=c[C]||"bg-violet-800"),t.set(k/50*100)}),x.on("playSwitchData",V=>{if(i=V.rtc,i!==e&&typeof window<"u"){let k=Math.floor(a/6.25);k=a>50?7:k,o.src=m[k],o.play().catch(C=>{console.error("Audio play failed:",C)})}e=i}),x.on("camSwitchData",V=>{let k="data:image/png;base64,"+V.base64;if(k!==n){const C=new Image;C.src=k,C.onload=()=>{l(0,n=k),l(3,d++,d)}}})}),[n,a,h,d,u,r,t,g,_,()=>{_(),g()}]}class de extends q{constructor(s){super(),J(this,s,ie,le,T,{})}}export{de as component};
